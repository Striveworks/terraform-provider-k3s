---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k3s_agent Resource - k3s"
subcategory: ""
description: |-
  Creates a k3s agent resource. Only one of password or private_key can be passed. Requires a token and server address to a k3s_server resource
---

# k3s_agent (Resource)

Creates a k3s agent resource. Only one of `password` or `private_key` can be passed. Requires a token and server address to a k3s_server resource

## Example Usage

```terraform
// Basic example with one agent node
variable "ssk_key" {
  type      = string
  sensitive = true
}

variable "password" {
  type      = string
  sensitive = true
}

resource "k3s_server" "main" {
  host        = "192.168.10.1"
  user        = "ubuntu"
  private_key = var.ssk_key
  config      = <<EOT
node-taint:
  - alice=john:NoExecute
EOT
}

resource "k3s_agent" "main" {
  host     = "192.168.10.2"
  user     = "ubuntu"
  password = var.password
  token    = k3s_server.token
  server   = k3s_server.host
  config   = <<EOT
node-taint:
  - alice=bob:NoExecute
EOT
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `host` (String) Hostname of the target server
- `server` (String) Hostname for k3s api server
- `token` (String, Sensitive) Server token used for joining nodes to the cluster
- `user` (String) Username of the target server

### Optional

- `bin_dir` (String) Value of a path used to put the k3s binary
- `config` (String) K3s server config
- `password` (String, Sensitive) Username of the target server
- `port` (Number) Override default SSH port (22)
- `private_key` (String, Sensitive) Value of a privatekey used to auth

### Read-Only

- `active` (Boolean) The health of the server
- `id` (String) Id of the k3s server resource

## Import

Import is supported using the following syntax:

```shell
# Import with Password
tofu import k3s_agent.main "host=192.168.10.1,user=ubuntu,password=$PASS"

# Import with key
tofu import k3s_agent.main "host=192.168.10.1,user=ubuntu,private_key=$SSH_KEY"
```
