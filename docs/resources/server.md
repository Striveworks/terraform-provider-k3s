---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k3s_server Resource - k3s"
subcategory: ""
description: |-
  Creates a k3s server resource. Only one of password or private_key can be passed
---

# k3s_server (Resource)

Creates a k3s server resource. Only one of `password` or `private_key` can be passed

## Example Usage

```terraform
// Basic example with ssh key
variable "ssk_key" {
  type      = string
  sensitive = true
}

resource "k3s_server" "main" {
  host        = "192.168.10.1"
  user        = "ubuntu"
  private_key = var.ssk_key
}

// Basic example with password
variable "password" {
  type      = string
  sensitive = true
}

resource "k3s_server" "main" {
  host     = "192.168.10.1"
  user     = "ubuntu"
  password = var.password
}

// Pass k3s custom options with config.yaml
variable "password" {
  type      = string
  sensitive = true
}

resource "k3s_server" "main" {
  host     = "192.168.10.1"
  user     = "ubuntu"
  password = var.password
  config   = <<EOT
write-kubeconfig-mode: 600
node-taint:
  - alice=bob:NoExecute
EOT
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `host` (String) Hostname of the target server
- `user` (String) Username of the target server

### Optional

- `bin_dir` (String) Value of a path used to put the k3s binary
- `config` (String) K3s server config
- `password` (String, Sensitive) Username of the target server
- `port` (Number) Override default SSH port (22)
- `private_key` (String, Sensitive) Private ssh key value to be used in place of a password
- `registry` (String) K3s server registry

### Read-Only

- `active` (Boolean) The health of the server
- `id` (String) Id of the k3s server resource
- `kubeconfig` (String) KubeConfig for the cluster
- `token` (String, Sensitive) Server token used for joining nodes to the cluster

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# Import with Password
tofu import k3s_server.main "host=192.168.10.1,user=ubuntu,password=$PASS"

# Import with key
tofu import k3s_server.main "host=192.168.10.1,user=ubuntu,private_key=$SSH_KEY"
```
